!function(e){var t={};function s(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);class r{constructor(){this.m=0,this.s=0,this.total=0,this.count=setInterval(()=>{this.s+=1,this.total+=1,60===this.s&&(this.m+=1,this.s=0),document.querySelector(".timer").innerHTML=`${this.m}: ${this.s}`},1e3)}stop(){return clearInterval(this.count),`${this.m}:${this.s}`}}const a=new class{constructor(){this.memoryArray=["1","1","2","2","3","3","4","4","5","5","6","6","7","7","8","8","9","9","10","10"],this.arrayForInput=[],this.memoryValues=[],this.memoryTileIds=[],this.tilesFlipped=0,this.gameBoard=document.querySelector(".game-board"),this.numberOfCards=0,this.users=[],this.timer={}}memoryTileShuffle(e){let t,s,r=this.arrayForInput.length;for(;--r>0;)s=e[t=Math.floor(Math.random()*(r+1))],e[t]=e[r],e[r]=s}newBoard(e,t){this.timer=new r,this.arrayForInput=this.memoryArray.slice(0,e),this.numberOfCards=e,this.tilesFlipped=0;let s="";this.memoryTileShuffle(this.arrayForInput);for(let e=0;e<this.numberOfCards;e+=1)s+=`<div id="${e}" class="card"><div class="${t} back"></div><div class="front icon-value-${this.arrayForInput[e]}"></div></div>`;this.gameBoard.innerHTML=s,this.gameBoard.addEventListener("click",this.memoryFlipTile.bind(this)),document.querySelector(".game-board-wrapper .restart").addEventListener("click",()=>{this.timer.stop()})}memoryFlipTile(e){const t=e.target.parentNode;if("card"!=t.classList)return;const s=this.arrayForInput[+t.id];"card rotate"!==t.class&&this.memoryValues.length<2&&(t.classList.add("rotate"),0===this.memoryValues.length?(this.memoryValues.push(s),this.memoryTileIds.push(t.id)):1===this.memoryValues.length&&(this.memoryValues.push(s),this.memoryTileIds.push(t.id),this.memoryValues[0]===this.memoryValues[1]?(this.tilesFlipped+=2,setTimeout(function(){const e=document.getElementById(this.memoryTileIds[0]),t=document.getElementById(this.memoryTileIds[1]);e.classList.add("disappear"),t.classList.add("disappear"),this.memoryValues=[],this.memoryTileIds=[]}.bind(this),1e3),this.tilesFlipped===this.numberOfCards&&this.win()):setTimeout(function(){const e=document.getElementById(this.memoryTileIds[0]),t=document.getElementById(this.memoryTileIds[1]);e.classList.remove("rotate"),t.classList.remove("rotate"),this.memoryValues=[],this.memoryTileIds=[]}.bind(this),700)))}win(){const e=JSON.parse(localStorage.getItem("currentUser")),t=this.timer.stop(),s=t.split(":"),r=60*+s[0]+ +s[1];this.users=JSON.parse(localStorage.getItem("users")),this.users||(this.users=[]),this.users.push({fullName:`${e.firstName} ${e.lastName}`,level:this.numberOfCards,result:t,total:r}),localStorage.setItem("users",JSON.stringify(this.users)),document.querySelector(".game-board-wrapper").classList.add("disappear"),document.querySelector(".congrats").classList.add("appear"),document.querySelector(".congrats").classList.remove("disappear"),document.querySelector(".info span:first-child").innerHTML=`${e.firstName} ${e.lastName}`,document.querySelector(".info span:last-child").innerHTML=`${t}`}},i=document.querySelector("body"),o=document.querySelector(".greeting button"),l=document.querySelector(".greeting"),c=document.querySelector(".rules"),n=document.querySelector(".login"),m=document.querySelector(".congrats"),u=document.querySelector(".game-board-wrapper"),d=document.querySelector(".rules button"),h=document.querySelector("form + button"),p=document.querySelector(".congrats button"),y=document.querySelector(".restart"),g=document.querySelector(".login .left-column"),v=document.querySelector(".login .right-column"),f=document.querySelector(".images-wrapper");let S,L,q="stars",I=JSON.parse(localStorage.getItem("currentUser"));function N(){let e=JSON.parse(localStorage.getItem("users"));e?e.sort((e,t)=>e.total-t.total):e=[];let t="";const s=e.length>9?10:e.length;for(let r=0;r<s;r+=1)e[r].level==I.level&&(t+=`<li>${e[r].fullName} ${e[r].result}</li>`);document.querySelector(".rating ol").innerHTML=t}I||(I={firstName:"",lastName:"",email:"",level:""}),window.onload=function(){l.classList.add("appear"),document.querySelector(".greeting button").classList.add("move-right"),document.querySelector(".greeting p").classList.add("move-left"),document.querySelector("#firstName").value=`${I.firstName}`,document.querySelector("#lastName").value=`${I.lastName}`,document.querySelector("#email").value=`${I.email}`,N()},o.addEventListener("click",()=>{document.querySelectorAll(".move-right, .move-left, .greeting").forEach(e=>{"greeting appear"==e.classList?e.classList.add("disappear"):"move-left"==e.classList?e.classList.remove("move-left"):e.classList.remove("move-right")}),c.classList.add("appear")}),d.addEventListener("click",()=>{document.querySelector(".rules p").classList.add("move-left"),document.querySelector(".rules ol").classList.add("move-left"),d.classList.add("move-right"),c.classList.add("disappear"),n.classList.add("appear"),i.removeChild(l)}),f.addEventListener("click",()=>{const e=event.target;"IMG"==e.tagName&&(q=e.alt,document.querySelector(".active").classList.remove("active"),e.classList.add("active"))}),h.addEventListener("click",()=>{const e=document.querySelector("#firstName").value,t=document.querySelector("#lastName").value,s=document.querySelector("#email").value;S=+document.querySelector("#complexity").value,n.classList.add("disappear"),g.classList.add("move-left"),v.classList.add("move-right"),u.classList.remove("disappear"),u.classList.add("appear"),L=new class{constructor(e,t,s,r){this.firstName=e,this.lastName=t,this.email=s,this.level=r}}(e,t,s,S),localStorage.setItem("currentUser",JSON.stringify(L)),I=JSON.parse(localStorage.getItem("currentUser")),document.querySelector(".full-name").innerHTML=`${I.firstName} ${I.lastName}`,N(),a.newBoard(S,q)}),y.addEventListener("click",()=>{u.classList.add("disappear"),n.classList.remove("disappear"),g.classList.remove("move-left"),v.classList.remove("move-right")}),p.addEventListener("click",()=>{u.classList.remove("disappear"),m.classList.add("disappear"),N(),a.newBoard(S,q)})}]);